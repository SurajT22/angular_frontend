import{a as s,b as f}from"./chunk-SHJXA5HD.js";import"./chunk-UVREMBGU.js";import"./chunk-BYHDPGNQ.js";import"./chunk-IKTMDLYG.js";import{a as A}from"./chunk-6QD26UUK.js";import"./chunk-DD65RJ7C.js";import"./chunk-XX5VUOZJ.js";import"./chunk-TJBFEVGI.js";import{Aa as T,F as o,Ga as k,J as m,N as a,O as p,Sa as R,Wb as E,Xb as C,la as l,na as S,r as h,tc as g,za as d}from"./chunk-BSMU7QB4.js";var I=(()=>{let i=class i{constructor(){this.apiUserService=a(A),this.loaderService=a(E),this.alertService=a(g)}getClientRights(e){return this.loaderService.show(),this.apiUserService.getUserClientRights(e).pipe(h(t=>t.UserRights))}updateClientRights(e,t){return this.loaderService.show(),this.apiUserService.updateUserClientRights({UserRights:t,UserName:e}).pipe(h(c=>{this.alertService.success(c)}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var n=class{constructor(){this.Inspection=!1,this.Recipe=!1,this.BatchDetail=!1,this.Teach=!1,this.UserManagement=!1,this.CameraSettings=!1,this.HardwareSettings=!1,this.PrinterSettings=!1,this.ServerSettings=!1,this.ThirdPartySettings=!1,this.SystemSettings=!1,this.TestIO=!1,this.FaultImages=!1,this.ProductionReport=!1,this.AuditReport=!1,this.Help=!1,this.Info=!1,this.Reconciliation=!1,this.Warehouse=!1,this.ServerAccess=!1,this.BatchAccess=!1,this.BatchUploadAccess=!1}};var u=(()=>{let i=class i extends C{constructor(){super(),this.userClientRightsService=a(I),this.selectedUserName="",this.userPermission=new n,this.mapToPermissionArray(this.userPermission)}onUserChange(e){this.selectedUserName=e,this.getClientRights()}getClientRights(){this.userClientRightsService.getClientRights(this.selectedUserName).pipe(o(this.destroy$)).subscribe(e=>{this.mapToPermissionArray(e)})}onSaveBtnClick(){this.mapToPermissionObject(),this.userClientRightsService.updateClientRights(this.selectedUserName,this.userPermission).pipe(o(this.destroy$)).subscribe(()=>{})}mapToPermissionObject(){this.availablePermissions.forEach(e=>{switch(e.permission){case s.INSPECTION:this.userPermission.Inspection=e.checked;break;case s.RECIPE:this.userPermission.Recipe=e.checked;break;case s.BATCH_DETAIL:this.userPermission.BatchDetail=e.checked;break;case s.TEACH:this.userPermission.Teach=e.checked;break;case s.USER_MANAGEMENT:this.userPermission.UserManagement=e.checked;break;case s.CAMERA_SETTINGS:this.userPermission.CameraSettings=e.checked;break;case s.HARDWARE_SETTINGS:this.userPermission.HardwareSettings=e.checked;break;case s.PRINTER_SETTINGS:this.userPermission.PrinterSettings=e.checked;break;case s.SERVER_SETTINGS:this.userPermission.ServerSettings=e.checked;break;case s.THIRD_PARTY_SETTINGS:this.userPermission.ThirdPartySettings=e.checked;break;case s.SYSTEM_SETTINGS:this.userPermission.SystemSettings=e.checked;break;case s.TEST_IO:this.userPermission.TestIO=e.checked;break;case s.FAULT_IMAGES:this.userPermission.FaultImages=e.checked;break;case s.PRODUCTION_REPORT:this.userPermission.ProductionReport=e.checked;break;case s.AUDIT_REPORT:this.userPermission.AuditReport=e.checked;break;case s.HELP:this.userPermission.Help=e.checked;break;case s.INFO:this.userPermission.Info=e.checked;break;case s.RECONCILIATION:this.userPermission.Reconciliation=e.checked;break;case s.WAREHOUSE:this.userPermission.Warehouse=e.checked;break;case s.SERVER_ACCESS:this.userPermission.ServerAccess=e.checked;break;case s.BATCH_ACCESS:this.userPermission.BatchAccess=e.checked;break;case s.BATCH_UPLOAD_ACCESS:this.userPermission.BatchUploadAccess=e.checked;break}})}mapToPermissionArray(e){this.availablePermissions=[{checked:e.Inspection,permission:s.INSPECTION},{checked:e.Recipe,permission:s.RECIPE},{checked:e.BatchDetail,permission:s.BATCH_DETAIL},{checked:e.Teach,permission:s.TEACH},{checked:e.UserManagement,permission:s.USER_MANAGEMENT},{checked:e.CameraSettings,permission:s.CAMERA_SETTINGS},{checked:e.HardwareSettings,permission:s.HARDWARE_SETTINGS},{checked:e.PrinterSettings,permission:s.PRINTER_SETTINGS},{checked:e.ServerSettings,permission:s.SERVER_SETTINGS},{checked:e.ThirdPartySettings,permission:s.THIRD_PARTY_SETTINGS},{checked:e.SystemSettings,permission:s.SYSTEM_SETTINGS},{checked:e.TestIO,permission:s.TEST_IO},{checked:e.FaultImages,permission:s.FAULT_IMAGES},{checked:e.ProductionReport,permission:s.PRODUCTION_REPORT},{checked:e.AuditReport,permission:s.AUDIT_REPORT},{checked:e.Help,permission:s.HELP},{checked:e.Info,permission:s.INFO},{checked:e.Reconciliation,permission:s.RECONCILIATION},{checked:e.Warehouse,permission:s.WAREHOUSE},{checked:e.ServerAccess,permission:s.SERVER_ACCESS},{checked:e.BatchAccess,permission:s.BATCH_ACCESS},{checked:e.BatchUploadAccess,permission:s.BATCH_UPLOAD_ACCESS}]}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=p({type:i,selectors:[["app-user-client-rights"]],standalone:!0,features:[l,R],decls:1,vars:4,consts:[[3,"headerLable","isServerRights","availablePermissions","selectedUserName","selectedUserNameChange","btnClick"]],template:function(t,c){t&1&&(d(0,"app-user-rights",0),k("selectedUserNameChange",function(_){return c.onUserChange(_)})("btnClick",function(){return c.onSaveBtnClick()}),T()),t&2&&S("headerLable","User Client Rights")("isServerRights",!1)("availablePermissions",c.availablePermissions)("selectedUserName",c.selectedUserName)},dependencies:[f]});let r=i;return r})();var z=[{path:"",component:u}];export{z as USERCLIENTRIGHTS_ROUTES};
