import{a as E,b as L,c as O,d as z,e as D}from"./chunk-AM5ZQ5T2.js";import{a as F}from"./chunk-BYHDPGNQ.js";import{a as N}from"./chunk-XWJPI5P5.js";import{Aa as a,Ca as I,Da as U,F as w,Fa as M,Ga as r,Ha as u,Ma as v,N as h,Na as p,O as P,Pa as A,Sa as C,T as f,U as _,Xb as q,dc as S,ec as y,fb as B,ga as l,gc as R,la as b,mb as G,na as m,qc as x,ta as T,tb as j,tc as k,ua as V,za as t}from"./chunk-BSMU7QB4.js";var de=(()=>{let s=class s extends q{constructor(){super(),this.changePassDialogService=h(L),this.userAccountService=h(F),this.alertService=h(k),this.changePassReq=new E}ngOnInit(){this.changePassDialogService.dialog.subscribe(n=>{this.changePassReq=n,this.showModelDialog()})}showModelDialog(){$("#change-password-modal").modal("show")}hideModal(){$("#change-password-modal").modal("hide"),this.resetModal()}resetModal(){this.changePassReq=new E}onSubmitClick(){if(this.changePassReq.newPassword!=this.changePassReq.confirmPassword){this.alertService.error("New password and confirm password should be same.");return}var n={UserName:this.changePassReq.userName,NewPassword:this.changePassReq.newPassword,OldPassword:this.changePassReq.oldPassword};this.userAccountService.resetPassword(n,this.changePassReq.token).pipe(w(this.destroy$)).subscribe(i=>{this.changePassReq.callBackFunc(),this.hideModal()})}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=P({type:s,selectors:[["app-change-password-dialog"]],standalone:!0,features:[b,C],decls:29,vars:13,consts:[["id","change-password-modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade","oee_dialog"],[1,"modal-dialog","modal-md","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"form-layout-input","m-0","mw-100"],["changePassForm","ngForm"],[1,"form-outer","border-0"],[1,"form-fieldset"],[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-sm-12"],[3,"label","value","disabled","valueChange"],[3,"label","value","required","valueChange"],[1,"modal-footer","p-2","justify-content-center"],[1,"form-header-inner"],[1,"right"],[1,"two-button"],[1,"btn","is-cancel-light","is-light",3,"click"],[1,"btn","is-primary-btn","is-primary",3,"disabled","click"]],template:function(i,e){if(i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),p(5,"Change Password"),a(),t(6,"button",5),r("click",function(){return e.hideModal()}),a()(),t(7,"div",6)(8,"form",null,7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"app-text",12),r("valueChange",function(g){return e.changePassReq.userName=g}),a()(),t(15,"div",11)(16,"app-password",13),r("valueChange",function(g){return e.changePassReq.oldPassword=g}),a()(),t(17,"div",11)(18,"app-password",13),r("valueChange",function(g){return e.changePassReq.newPassword=g}),a()(),t(19,"div",11)(20,"app-password",13),r("valueChange",function(g){return e.changePassReq.confirmPassword=g}),a()()()()()()(),t(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"button",18),r("click",function(){return e.hideModal()}),p(26," Cancel "),a(),t(27,"button",19),r("click",function(){return e.onSubmitClick()}),p(28," Submit "),a()()()()()()()()),i&2){let c=v(9);l(14),m("label","User Name")("value",e.changePassReq.userName)("disabled",!0),l(2),m("label","Old Password")("value",e.changePassReq.oldPassword)("required",!0),l(2),m("label","New Password")("value",e.changePassReq.newPassword)("required",!0),l(2),m("label","Confirm Password")("value",e.changePassReq.confirmPassword)("required",!0),l(7),m("disabled",c.invalid)}},dependencies:[x,R,S,y,D,N],styles:[".close[_ngcontent-%COMP%]{float:right;font-size:1.25003rem;font-weight:400;line-height:1;color:#333;text-shadow:none;opacity:.75;transition:color ease-in-out .15s,opacity ease-in-out .15s;margin-right:1%}"]});let o=s;return o})();function Q(o,s){if(o&1){let d=M();t(0,"div",19)(1,"app-text",21),r("valueChange",function(i){f(d);let e=u(2);return _(e.forgetPassReq.userName=i)}),a()()}if(o&2){let d=u(2);l(1),m("label","User Name")("value",d.forgetPassReq.userName)("required",!0)}}function W(o,s){if(o&1&&(I(0),t(1,"div",19)(2,"label"),p(3,"OTP will be send on your register E-Mail address to verify user."),a()(),T(4,Q,2,3,"div",20),U()),o&2){let d=u();l(4),V(4,d.hasUserName?-1:4)}}function X(o,s){if(o&1){let d=M();t(0,"div",19)(1,"label"),p(2,"OTP has been send on your register E-Mail address. Please enter OTP"),a()(),t(3,"div",19)(4,"app-text",22),r("valueChange",function(i){f(d);let e=u();return _(e.forgetPassReq.userName=i)}),a()(),t(5,"div",19)(6,"app-text",21),r("valueChange",function(i){f(d);let e=u();return _(e.forgetPassReq.otp=i)}),a()(),t(7,"div",19)(8,"app-password",21),r("valueChange",function(i){f(d);let e=u();return _(e.forgetPassReq.newPassword=i)}),a()(),t(9,"div",19)(10,"app-password",21),r("valueChange",function(i){f(d);let e=u();return _(e.forgetPassReq.confirmPassword=i)}),a()()}if(o&2){let d=u();l(4),m("label","User Name")("value",d.forgetPassReq.userName)("disabled",!0),l(2),m("label","OTP")("value",d.forgetPassReq.otp)("required",!0),l(2),m("label","New Password")("value",d.forgetPassReq.newPassword)("required",!0),l(2),m("label","Confirm Password")("value",d.forgetPassReq.confirmPassword)("required",!0)}}var Se=(()=>{let s=class s extends q{constructor(){super(),this.forgetPassDialogService=h(z),this.userAccountService=h(F),this.alertService=h(k),this.isOtpGenerated=!1,this.hasUserName=!1,this.forgetPassReq=new O}ngOnInit(){this.forgetPassDialogService.dialog.subscribe(n=>{this.forgetPassReq=n,this.hasUserName=this.forgetPassReq.userName!=""&&this.forgetPassReq.userName!=null,this.showModelDialog()})}showModelDialog(){$("#forget-password-modal").modal("show")}hideModal(){$("#forget-password-modal").modal("hide"),this.resetModal()}resetModal(){this.forgetPassReq=new O}onSubmitClick(){if(this.isOtpGenerated){if(this.forgetPassReq.newPassword!=this.forgetPassReq.confirmPassword){this.alertService.error("New password and confirm password should be same.");return}var n={UserName:this.forgetPassReq.userName,OTP:this.forgetPassReq.otp,NewPassword:this.forgetPassReq.newPassword};this.userAccountService.verifyOTP(n,this.forgetPassReq.token).pipe(w(this.destroy$)).subscribe(()=>{this.hideModal(),this.forgetPassReq.callBackFunc()})}else this.userAccountService.generateOTP(this.forgetPassReq.userName,this.forgetPassReq.token).pipe(w(this.destroy$)).subscribe(()=>{this.isOtpGenerated=!0})}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=P({type:s,selectors:[["app-forget-password-dialog"]],standalone:!0,features:[b,C],decls:24,vars:4,consts:[["id","forget-password-modal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade","oee_dialog"],[1,"modal-dialog","modal-md","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"form-layout-input","m-0","mw-100"],["forgetPassForm","ngForm"],[1,"form-outer","border-0"],[1,"form-fieldset"],[1,"row"],[4,"ngIf","ngIfElse"],["showInputPassword",""],[1,"modal-footer","p-2","justify-content-center"],[1,"form-header-inner"],[1,"right"],[1,"two-button"],[1,"btn","is-cancel-light","is-light",3,"click"],[1,"btn","is-primary-btn","is-primary",3,"disabled","click"],[1,"col-12","col-md-12","col-lg-12","col-sm-12"],["class","col-12 col-md-12 col-lg-12 col-sm-12"],[3,"label","value","required","valueChange"],[3,"label","value","disabled","valueChange"]],template:function(i,e){if(i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),p(5,"Forget Password"),a(),t(6,"button",5),r("click",function(){return e.hideModal()}),a()(),t(7,"div",6)(8,"form",null,7)(10,"div",8)(11,"div",9)(12,"div",10),T(13,W,5,1,"ng-container",11)(14,X,11,12,"ng-template",null,12,B),a()()()()(),t(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"button",17),r("click",function(){return e.hideModal()}),p(21," Cancel "),a(),t(22,"button",18),r("click",function(){return e.onSubmitClick()}),p(23),a()()()()()()()()),i&2){let c=v(9),g=v(15);l(13),m("ngIf",!e.isOtpGenerated)("ngIfElse",g),l(9),m("disabled",c.invalid),l(1),A(" ",e.isOtpGenerated?"Submit":"Send OTP"," ")}},dependencies:[j,G,x,R,S,y,D,N],styles:[".close[_ngcontent-%COMP%]{float:right;font-size:1.25003rem;font-weight:400;line-height:1;color:#333;text-shadow:none;opacity:.75;transition:color ease-in-out .15s,opacity ease-in-out .15s;margin-right:1%}"]});let o=s;return o})();var H=class{};export{H as a,de as b,Se as c};
