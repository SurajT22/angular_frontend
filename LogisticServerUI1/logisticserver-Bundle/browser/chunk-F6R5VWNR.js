import{b as k}from"./chunk-SHJXA5HD.js";import{a as r}from"./chunk-UVREMBGU.js";import"./chunk-BYHDPGNQ.js";import"./chunk-IKTMDLYG.js";import{a as U}from"./chunk-6QD26UUK.js";import"./chunk-DD65RJ7C.js";import"./chunk-XX5VUOZJ.js";import"./chunk-TJBFEVGI.js";import{Aa as R,F as h,Ga as T,J as m,N as n,O as p,Sa as v,Wb as g,Xb as u,la as S,na as d,r as c,tc as E,za as l}from"./chunk-BSMU7QB4.js";var f=(()=>{let s=class s{constructor(){this.apiUserService=n(U),this.loaderService=n(g),this.alertService=n(E)}getServerRights(e){return this.loaderService.show(),this.apiUserService.getUserServerRights(e).pipe(c(i=>i.UserRights))}updateServerRights(e,i){return this.loaderService.show(),this.apiUserService.updateUserServerRights({UserRights:i,UserName:e}).pipe(c(o=>{this.alertService.success(o)}))}};s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"});let t=s;return t})();var a=class{};var P=(()=>{let s=class s extends u{constructor(){super(),this.userServerRightsService=n(f),this.userPermission=new a,this.mapToPermissionArray(this.userPermission)}onUserChange(e){this.selectedUserName=e,this.getServerRights()}getServerRights(){this.userServerRightsService.getServerRights(this.selectedUserName).pipe(h(this.destroy$)).subscribe(e=>{this.mapToPermissionArray(e)})}onSaveBtnClick(){this.mapToPermissionObject(),this.userServerRightsService.updateServerRights(this.selectedUserName,this.userPermission).pipe(h(this.destroy$)).subscribe(()=>{})}mapToPermissionObject(){this.availablePermissions.forEach(e=>{switch(e.permission){case r.CLIENT_REGISTRATION:this.userPermission.ClientRegistration=e.checked;break;case r.BATCH_DETAILS:this.userPermission.BatchDetail=e.checked;break;case r.AUDIT_REPORT:this.userPermission.AuditReport=e.checked;break;case r.PRODUCTION_REPORT:this.userPermission.ProductionReport=e.checked;break;case r.SYSTEM_SETTINGS:this.userPermission.SystemSettings=e.checked;break;case r.SERVER_SETTINGS:this.userPermission.ServerSettings=e.checked;break;case r.USER_MANAGEMENT:this.userPermission.UserManagement=e.checked;break;case r.THIRDPARTY_SETTINGS:this.userPermission.ThirdPartySettings=e.checked;break;case r.HELP:this.userPermission.Help=e.checked;break}})}mapToPermissionArray(e){this.availablePermissions=[{checked:e.ClientRegistration,permission:r.CLIENT_REGISTRATION},{checked:e.BatchDetail,permission:r.BATCH_DETAILS},{checked:e.AuditReport,permission:r.AUDIT_REPORT},{checked:e.ProductionReport,permission:r.PRODUCTION_REPORT},{checked:e.SystemSettings,permission:r.SYSTEM_SETTINGS},{checked:e.ServerSettings,permission:r.SERVER_SETTINGS},{checked:e.UserManagement,permission:r.USER_MANAGEMENT},{checked:e.ThirdPartySettings,permission:r.THIRDPARTY_SETTINGS},{checked:e.Help,permission:r.HELP}]}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p({type:s,selectors:[["app-user-server-rights"]],standalone:!0,features:[S,v],decls:1,vars:4,consts:[[3,"headerLable","isServerRights","availablePermissions","selectedUserName","selectedUserNameChange","btnClick"]],template:function(i,o){i&1&&(l(0,"app-user-rights",0),T("selectedUserNameChange",function(N){return o.onUserChange(N)})("btnClick",function(){return o.onSaveBtnClick()}),R()),i&2&&d("headerLable","User Server Rights")("isServerRights",!0)("availablePermissions",o.availablePermissions)("selectedUserName",o.selectedUserName)},dependencies:[k]});let t=s;return t})();var J=[{path:"",component:P}];export{J as USERSERVERRIGHTS_ROUTES};
